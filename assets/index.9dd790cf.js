import{d as N,o as U,a as l,c,b as t,w as m,v as u,e as C,F as p,r as y,f as v,g as T,t as d,n as b,h as P,i as h,j as x,k as A}from"./vendor.4e9c9267.js";const E=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=r(i);fetch(i.href,n)}};E();const L=[{text:"P\xE1gina de inicio",value:"HOME"},{text:"Inicio de sesi\xF3n",value:"SESSION_START"},{text:"Mapa web",value:"WEB_MAP"},{text:"Contacto",value:"CONTACT"},{text:"Ayuda",value:"HELP"},{text:"Legal",value:"LEGAL"},{text:"Servicio/Proceso",value:"SERVICE"},{text:"B\xFAsqueda",value:"SEARCH"},{text:"Declaraci\xF3n de accesibilidad",value:"ACCESSIBILITY_DECLARATION"},{text:"Mecanismo de comunicaci\xF3n",value:"COMMUNICATION_MECHANISM"},{text:"P\xE1gina tipo",value:"TYPICAL_PAGE"},{text:"Otras p\xE1ginas",value:"OTHER"},{text:"Aleatoria",value:"ALEATORY"},{text:"Documento descargable",value:"DOWNLOADABLE_DOC"}],_=N({id:"site",state:()=>({pageTypes:L,siteName:"",siteDomain:"",inUrl:"",inType:"",inShortName:"",inBreadcrumb:"",siteWebPages:[],editMode:!1}),getters:{numUrl:o=>o.siteWebPages.reduce((e,r)=>(r.webPageUrl!==""&&e++,e),0),numAleatory:o=>o.siteWebPages.reduce((e,r)=>(r.webPageUrl&&r.webPageType==="ALEATORY"&&e++,e),0),hasHome:o=>o.siteWebPages.some(e=>e.webPageType==="HOME"&&e.webPageUrl),hasDecAcc:o=>o.siteWebPages.some(e=>e.webPageType==="ACCESSIBILITY_DECLARATION"&&e.webPageUrl),siteId:function(o){if(o.siteName)return o.siteName.toLowerCase().replace(/ /g,"_").normalize("NFD").replace(/[\u0300-\u036f]/g,"")}},actions:{urlList(){return[{siteId:this.siteId,siteName:this.siteName,siteDomain:this.siteDomain,siteWebPages:this.siteWebPages}]},restoreSavedData(){try{const o=localStorage.getItem("saved-site"),e=JSON.parse(o);this.siteName=e[0].siteName,this.siteDomain=e[0].siteDomain,this.siteWebPages=[...e[0].siteWebPages]}catch{console.log("Se ha producido un error al recuprar datos")}},saveSite(){const o=JSON.stringify(this.urlList());localStorage.setItem("saved-site",o)},orden(){const o=[];this.pageTypes.forEach(e=>{this.siteWebPages.map(r=>{r.webPageType==e.value&&o.push(r)})}),this.siteWebPages=o,this.saveSite()},reset(){confirm("Se van a borrar los datos")&&(this.siteName="",this.siteDomain="",this.siteWebPages=[],localStorage.setItem("saved-site",JSON.stringify(this.urlList)),alert("\xA1Los datos se han borrado!"))},deleteItem(o){this.siteWebPages.splice(o,1),this.saveSite()},editItem(o){this.editMode=!0,this.indice=o,this.inUrl=this.siteWebPages[o].webPageUrl,this.inType=this.siteWebPages[o].webPageType,this.inShortName=this.siteWebPages[o].shortName,this.inBreadcrumb=this.siteWebPages[o].breadcrumb},saveModified(){const o=this.indice;this.siteWebPages[o]={webPageUrl:this.inUrl,webPageType:this.inType,shortName:this.inShortName,breadcrumb:this.inBreadcrumb},this.indice=null,this.inUrl="",this.inType="",this.inShortName="",this.inBreadcrumb="",this.editMode=!1,this.saveSite()},saveBatch(){let o="";this.siteWebPages.forEach(i=>{o+='start chrome --new-tab- "'+decodeURI(i.webPageUrl)+`"
timeout /t 1
`});const e=new Blob([o]),r=URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download="url_list.bat",document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(s)},saveJson(){const o=JSON.stringify(this.urlList()),e=new Blob([o]),r=URL.createObjectURL(e),s=document.createElement("a");s.href=r,s.download="url_list.json",document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(s)},addItem(){if(this.inUrl=this.inUrl.trim(),this.siteWebPages.some(e=>e.webPageUrl===this.inUrl))alert("\xA1URL Duplicada!");else{const e={webPageUrl:this.inUrl,webPageType:this.inType,shortName:this.inShortName,breadcrumb:this.inBreadcrumb};this.siteWebPages.push(e),this.saveSite()}}}});var g=(o,e)=>{const r=o.__vccOpts||o;for(const[s,i]of e)r[s]=i;return r};const I={setup(){U(()=>{o.restoreSavedData()});const o=_();return{store:o}}},M={class:"bg-secondary text-light p-3 row"},O=t("h1",{class:"card-title text-center"},"Muestra para auditor\xEDas web",-1),$=[O];function D(o,e,r,s,i,n){return l(),c("header",M,$)}var k=g(I,[["render",D]]);const B={setup(){return{store:_()}},computed:{}},W={class:"text-light"},R=t("h2",null,"Datos de la p\xE1gina",-1),V=t("label",{class:"form-label",for:"inurl"},"URL",-1),H=t("label",{class:"form-label",for:"intype"},"Tipo de p\xE1gina",-1),J=t("option",{disabled:"",value:""},"Tipo de p\xE1gina",-1),q=["value"],F=t("label",{class:"form-label",for:"inshortname"},"Nombre corto",-1),Y=t("label",{class:"form-label",for:"inbreadcrumb"},"Migas",-1);function j(o,e,r,s,i,n){return l(),c("div",W,[R,t("form",{onSubmit:e[6]||(e[6]=T(()=>{},["prevent"])),class:"card text-light bg-primary mb-2"},[V,m(t("input",{class:"form-control",id:"inurl",type:"text",placeholder:"URL","onUpdate:modelValue":e[0]||(e[0]=a=>s.store.inUrl=a),required:""},null,512),[[u,s.store.inUrl]]),H,m(t("select",{class:"form-select",id:"intype","onUpdate:modelValue":e[1]||(e[1]=a=>s.store.inType=a),required:""},[J,(l(!0),c(p,null,y(s.store.pageTypes,a=>(l(),c("option",{value:a.value},d(a.text),9,q))),256))],512),[[C,s.store.inType]]),F,m(t("input",{class:"form-control",id:"inshortname",type:"text",placeholder:"Nombre corto","onUpdate:modelValue":e[2]||(e[2]=a=>s.store.inShortName=a),required:""},null,512),[[u,s.store.inShortName]]),Y,m(t("input",{class:"form-control",id:"inbreadcrumb",type:"text",placeholder:"Migas","onUpdate:modelValue":e[3]||(e[3]=a=>s.store.inBreadcrumb=a),required:""},null,512),[[u,s.store.inBreadcrumb]]),s.store.editMode?v("",!0):(l(),c("button",{key:0,type:"submit",class:"btn btn-outline-light mt-2",onClick:e[4]||(e[4]=a=>s.store.addItem())}," A\xF1adir ")),s.store.editMode?(l(),c("button",{key:1,type:"submit",class:"btn btn-primary btn- mt-2",onClick:e[5]||(e[5]=a=>s.store.saveModified())}," Modificar ")):v("",!0)],32)])}var G=g(B,[["render",j]]);const z={setup(){return{store:_()}},computed:{}},K={class:"card pt-3"},Q={class:"table table-dark table-sm table-striped"},X={class:""},Z=t("th",{class:"col"},"#",-1),ee=t("th",{class:"col"},"url",-1),te={class:"col"},se=t("th",{class:"col"},"Shortname",-1),oe=t("th",{class:"col"},"Migas",-1),ae=t("th",{class:"col-1"},"acci\xF3n",-1),ie={class:""},re={class:"col"},ne={class:"col"},le={class:"col"},ce={class:"col"},de={class:"col"},me={class:"col-1"},ue=["onClick"],be=t("span",{class:"fa fa-trash fa-xs","aria-label":"Borra l\xEDnea"},null,-1),he=[be],pe=["onClick"],_e=t("span",{class:"fa fa-edit fa-xs","aria-label":"Edita l\xEDnea"},null,-1),ge=[_e];function fe(o,e,r,s,i,n){return l(),c("div",K,[t("table",Q,[t("thead",null,[t("tr",X,[Z,ee,t("th",te,[t("button",{class:"btn btn-primary btn-sm",onClick:e[0]||(e[0]=a=>s.store.orden()),title:"Ordena la muestra por tipo de p\xE1gina"},"Tipo")]),se,oe,ae])]),t("tbody",null,[(l(!0),c(p,null,y(s.store.siteWebPages,(a,f)=>(l(),c("tr",ie,[t("td",re,d(f),1),t("td",ne,d(a.webPageUrl),1),t("td",le,d(a.webPageType),1),t("td",ce,d(a.shortName),1),t("td",de,d(a.breadcrumb),1),t("td",me,[t("button",{class:"btn btn-danger",onClick:w=>s.store.deleteItem(f)},he,8,ue),t("button",{class:"btn btn-warning",onClick:w=>s.store.editItem(f)},ge,8,pe)])]))),256))])])])}var ve=g(z,[["render",fe]]);const ye={setup(){return{store:_()}}},Pe={class:""},Se={class:"text-center"},we={class:"text-light badge bg-warning mt-2 mx-auto"},Ne={class:"card form text-dark p-2"},Ue=t("label",{for:"sitename",class:"form-label"},"Nombre",-1),Ce=t("label",{for:"sitedomain",class:"col-form-label-sm col-form-label"},"Dominio",-1),Te={class:"mt-2"},xe=t("h3",{class:"h5 text-light text-center mb-2"},"Status",-1),Ae={class:"h5 text-center"},Ee={class:"badge me-3 bg-secondary position-relative"},Le=P(" URLS "),Ie={class:"badge bg-secondary position-relative ms-2 mt-2"},Me=P(" Aleatorias "),Oe={class:"rounded"};function $e(o,e,r,s,i,n){return l(),c(p,null,[t("div",Pe,[t("h2",Se,[t("span",we,d(s.store.siteName),1),t("button",{class:"btn rounded-pill btn-outline-danger ms-2",title:"Limpiar todos los datos",onClick:e[0]||(e[0]=a=>s.store.reset())},"Nuevo sitio")]),t("form",Ne,[Ue,m(t("input",{class:"form-control-sm form-control",type:"text",id:"sitename",placeholder:"Nombre del sitio","onUpdate:modelValue":e[1]||(e[1]=a=>s.store.siteName=a)},null,512),[[u,s.store.siteName]]),Ce,m(t("input",{class:"form-control-sm form-control",type:"text",id:"sitedomain",placeholder:"Dominio del sitio","onUpdate:modelValue":e[2]||(e[2]=a=>s.store.siteDomain=a)},null,512),[[u,s.store.siteDomain]])])]),t("div",Te,[xe,t("p",Ae,[t("span",{class:b(["badge me-3",[s.store.hasHome?"bg-success":"bg-danger"]])}," HOME ",2),t("span",{class:b(["badge me-3",[s.store.hasDecAcc?"bg-success":"bg-danger"]])}," DEC. ACCES. ",2),t("span",Ee,[Le,t("span",{class:b(["position-absolute top-0 start-100 translate-middle badge me-3 mt-2 rounded-pill",[s.store.numUrl<25?"bg-success":"bg-danger"]])},d(s.store.numUrl),3)]),t("span",Ie,[Me,t("span",{class:b(["position-absolute top-0 start-100 translate-middle badge rounded-pill",[s.store.numAleatory>=s.store.numUrl/10?"bg-success":"bg-danger"]])},d(s.store.numAleatory),3)])]),t("div",Oe,[t("button",{class:"btn btn-outline-warning me-2",onClick:e[3]||(e[3]=a=>s.store.saveJson())},"Guarda JSON"),t("button",{class:"btn btn-outline-warning me-2",onClick:e[4]||(e[4]=a=>s.store.saveBatch())},"Guarda Batch"),t("button",{class:"btn btn-outline-warning me-2",title:"Aun no implementado",onClick:e[5]||(e[5]=()=>{})},"Cargar un sitio")])])],64)}var De=g(ye,[["render",$e]]);const ke={class:"mx-3"},Be={class:"row"},We={class:"col bg-dark card ms-3 mt-3"},Re={class:"col card bg-primary ms-3 mt-3"},Ve={class:"row"},He={setup(o){return(e,r)=>(l(),c(p,null,[h(k),t("main",ke,[t("div",Be,[t("div",We,[h(De)]),t("div",Re,[h(G)])]),t("div",Ve,[h(ve)])])],64))}},S=x(He);S.use(A());S.mount("#app");
