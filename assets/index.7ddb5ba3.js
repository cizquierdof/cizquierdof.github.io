import{d as A,o as l,c,a as s,t as d,w as p,v as _,n as w,b as y,F as g,e as f,f as C,g as L,r as P,h as x,p as $,i as k,j as m,k as E,l as D,u as I,m as O,q as M,s as U,x as S,y as W,z as B,A as R}from"./vendor.03ab52fd.js";const F=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}};F();const V=[{text:"P\xE1gina de inicio",value:"HOME"},{text:"Inicio de sesi\xF3n",value:"SESSION_START"},{text:"Mapa web",value:"WEB_MAP"},{text:"Contacto",value:"CONTACT"},{text:"Ayuda",value:"HELP"},{text:"Legal",value:"LEGAL"},{text:"Servicio/Proceso",value:"SERVICE"},{text:"B\xFAsqueda",value:"SEARCH"},{text:"Declaraci\xF3n de accesibilidad",value:"ACCESSIBILITY_DECLARATION"},{text:"Mecanismo de comunicaci\xF3n",value:"COMMUNICATION_MECHANISM"},{text:"P\xE1gina tipo",value:"TYPICAL_PAGE"},{text:"Otras p\xE1ginas",value:"OTHER"},{text:"Aleatoria",value:"ALEATORY"},{text:"Documento descargable",value:"DOWNLOADABLE_DOC"}],v=A({id:"site",state:()=>({pageTypes:V,siteName:"",siteDomain:"",inUrl:"",inType:"",inShortName:"",inBreadcrumb:"",siteWebPages:[],editMode:!1}),getters:{numUrl:t=>t.siteWebPages.reduce((e,r)=>(r.webPageUrl!==""&&e++,e),0),numAleatory:t=>t.siteWebPages.reduce((e,r)=>(r.webPageUrl&&r.webPageType==="ALEATORY"&&e++,e),0),hasHome:t=>t.siteWebPages.some(e=>e.webPageType==="HOME"&&e.webPageUrl),hasDecAcc:t=>t.siteWebPages.some(e=>e.webPageType==="ACCESSIBILITY_DECLARATION"&&e.webPageUrl),siteId:function(t){if(t.siteName)return t.siteName.toLowerCase().replace(/ /g,"_").normalize("NFD").replace(/[\u0300-\u036f]/g,"")}},actions:{urlList(){return[{siteId:this.siteId,siteName:this.siteName,siteDomain:this.siteDomain,siteWebPages:this.siteWebPages}]},restoreData(t){this.siteName=t.siteName,this.siteDomain=t.siteDomain,this.siteWebPages=[...t.siteWebPages]},restoreFromLocalStorage(){try{const t=localStorage.getItem("saved-site"),e=JSON.parse(t);this.restoreData(e[0])}catch{console.log("Se ha producido un error al recuprar datos")}},restorFromDisk(t){this.restoreData(t[0]),this.saveSite()},saveSite(){const t=JSON.stringify(this.urlList());localStorage.setItem("saved-site",t)},orden(){const t=[];this.pageTypes.forEach(e=>{this.siteWebPages.map(r=>{r.webPageType==e.value&&t.push(r)})}),this.siteWebPages=t,this.saveSite()},reset(){confirm("Se van a borrar los datos")&&(this.siteName="",this.siteDomain="",this.siteWebPages=[],localStorage.setItem("saved-site",JSON.stringify(this.urlList)),alert("\xA1Los datos se han borrado!"))},deleteItem(t){!confirm("\xBFEst\xE1 seguro de borrar la l\xEDnea?")||(this.siteWebPages.splice(t,1),this.saveSite())},editItem(t){this.editMode=confirm("\xBFEst\xE1 seguro de editar la l\xEDnea?"),!!this.editMode&&(this.indice=t,this.inUrl=this.siteWebPages[t].webPageUrl,this.inType=this.siteWebPages[t].webPageType,this.inShortName=this.siteWebPages[t].shortName,this.inBreadcrumb=this.siteWebPages[t].breadcrumb)},saveModified(){const t=this.indice;this.siteWebPages[t]={webPageUrl:this.inUrl,webPageType:this.inType,shortName:this.inShortName,breadcrumb:this.inBreadcrumb},this.indice=null,this.inUrl="",this.inType="",this.inShortName="",this.inBreadcrumb="",this.editMode=!1,this.saveSite()},saveBatch(){let t="";this.siteWebPages.forEach(n=>{t+='start chrome --new-tab- "'+n.webPageUrl+`"
timeout /t 1
`});const e=new Blob([t]),r=URL.createObjectURL(e),o=document.createElement("a");o.href=r,o.download="url_list.bat",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(o)},saveJson(){const t=JSON.stringify(this.urlList()),e=new Blob([t]),r=URL.createObjectURL(e),o=document.createElement("a");o.href=r,o.download="url_list.json",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(o)},addItem(){if(this.inUrl=this.inUrl.trim(),!(this.siteWebPages.some(e=>e.webPageUrl===this.inUrl)&&!confirm("\xBFA\xF1adir URL Duplicada?"))){const e={webPageUrl:this.inUrl,webPageType:this.inType,shortName:this.inShortName,breadcrumb:this.inBreadcrumb};this.siteWebPages.push(e),this.saveSite()}},openUrl(t){console.log(t),window.open(t,"_blank","").focus()},openUrlList(){if(!confirm("No funciona en Chrome, \xBFContinuar?"))return;const t=[];this.siteWebPages.forEach((e,r)=>{console.log(e.webPageUrl),t[r]=window.open(e.webPageUrl,"_blank")})}}});var h=(t,e)=>{const r=t.__vccOpts||t;for(const[o,n]of e)r[o]=n;return r};const H={setup(){const t=v();function e(o){if(!confirm("drop new site?"))return;o.preventDefault();const i=o.dataTransfer.files[0],a=new FileReader;a.readAsText(i),a.onload=function(){const u=JSON.parse(a.result);t.restorFromDisk(u)}}function r(o){if(!confirm("Se cargar\xE1 un sitio guardado y se borrar\xE1n los datos actuales"))return;const i=o.target.files[0],a=new FileReader;a.readAsText(i),a.onload=function(){const u=JSON.parse(a.result);t.restorFromDisk(u)}}return{store:t,loadJson:r,dropFile:e}}},J={class:""},z={class:"text-center"},q={class:"text-light badge bg-warning mt-2 mx-auto"},Y={class:"card form text-dark p-2"},G=s("label",{for:"sitename",class:"form-label fw-bold"},"Nombre",-1),j=s("label",{for:"sitedomain",class:"col-form-label-sm col-form-label fw-bold"},"Dominio",-1),K={class:"mt-2"},Q={class:"h6 text-center"},X={class:"badge rounded-pill me-3 bg-secondary position-relative"},Z=f(" URLS "),ee={class:"badge rounded-pill bg-secondary position-relative ms-2 mt-2"},te=f(" Aleatorias "),se={class:"container"},oe={class:"row"},ae=C('<div class="col-8"><h3 class="h6 text-light text-center mb-2"> Recupera sitio guardado </h3></div><div class="col form-check form-switch"><input class="form-check-input" type="checkbox" name="" id="enable-load-switch"><label class="form-check-label text-light" for="enable-load-switch"> habilitar </label></div>',2),re={class:"bg-warning"};function ne(t,e,r,o,n,i){return l(),c(g,null,[s("div",J,[s("h2",z,[s("span",q,d(o.store.siteName),1),s("button",{class:"btn rounded-pill btn-outline-danger ms-2 fw-bold",id:"btn-reset",title:"Limpiar todos los datos",onClick:e[0]||(e[0]=a=>o.store.reset())}," Nuevo sitio ")]),s("form",Y,[G,p(s("input",{class:"form-control-sm form-control",type:"text",id:"sitename",placeholder:"Nombre del sitio","onUpdate:modelValue":e[1]||(e[1]=a=>o.store.siteName=a)},null,512),[[_,o.store.siteName]]),j,p(s("input",{class:"form-control-sm form-control",type:"text",id:"sitedomain",placeholder:"Dominio del sitio","onUpdate:modelValue":e[2]||(e[2]=a=>o.store.siteDomain=a)},null,512),[[_,o.store.siteDomain]])])]),s("div",K,[s("p",Q,[s("span",{class:w(["badge rounded-pill me-3",[o.store.hasHome?"bg-success":"bg-danger"]])}," HOME ",2),s("span",{class:w(["badge rounded-pill me-3",[o.store.hasDecAcc?"bg-success":"bg-danger"]])}," DEC. ACCES. ",2),s("span",X,[Z,s("span",{class:w(["position-absolute top-0 start-100 translate-middle badge me-3 mt-2 rounded-pill",[o.store.numUrl<25?"bg-success":"bg-danger"]])},d(o.store.numUrl),3)]),s("span",ee,[te,s("span",{class:w(["position-absolute top-0 start-100 translate-middle badge rounded-pill",[o.store.numAleatory>=o.store.numUrl/10?"bg-success":"bg-danger"]])},d(o.store.numAleatory),3)])]),s("div",se,[s("div",oe,[s("button",{class:"col btn btn-outline-warning me-1",onClick:e[3]||(e[3]=a=>o.store.saveJson())}," Guarda JSON "),s("button",{class:"col btn btn-outline-warning ms-1",onClick:e[4]||(e[4]=a=>o.store.saveBatch())}," Guarda Batch "),s("button",{class:"col btn btn-outline-warning ms-1",onClick:e[5]||(e[5]=a=>o.store.openUrlList())}," Despliega ")]),s("div",{class:"row mt-2 rounded border border-warning",onDrop:e[8]||(e[8]=y(()=>{},["prevent"])),onDragover:e[9]||(e[9]=y(()=>{},["prevent"]))},[ae,s("div",re,[s("input",{class:"form-control-xs text-dark",type:"file",id:"fileInput",onChange:e[6]||(e[6]=a=>o.loadJson(a))},null,32)]),s("div",{class:"text-light text-center p-3",onDrop:e[7]||(e[7]=(...a)=>o.dropFile&&o.dropFile(...a))}," O arrasta un JSON v\xE1lido aqu\xED ",32)],32)])])],64)}var ie=h(H,[["render",ne]]);const le={setup(){return{store:v()}},computed:{}},ce={class:"text-light"},de=s("h2",null,"Datos de la p\xE1gina",-1),ue=s("label",{class:"form-label",for:"inurl"},"URL",-1),me=s("label",{class:"form-label",for:"intype"},"Tipo de p\xE1gina",-1),be=s("option",{disabled:"",value:""},"Tipo de p\xE1gina",-1),pe=["value"],he=s("label",{class:"form-label",for:"inshortname"},"Nombre corto",-1),_e=["autocomplete"],ge=s("label",{class:"form-label",for:"inbreadcrumb"},"Migas",-1);function fe(t,e,r,o,n,i){return l(),c("div",ce,[de,s("form",{onSubmit:e[6]||(e[6]=y(()=>{},["prevent"])),class:"card text-light bg-primary mb-2",autocomplete:"on"},[ue,p(s("input",{class:"form-control",id:"inurl",type:"text",placeholder:"URL","onUpdate:modelValue":e[0]||(e[0]=a=>o.store.inUrl=a),onclick:"this.select()",required:""},null,512),[[_,o.store.inUrl]]),me,p(s("select",{class:"form-select",id:"intype","onUpdate:modelValue":e[1]||(e[1]=a=>o.store.inType=a),required:""},[be,(l(!0),c(g,null,P(o.store.pageTypes,a=>(l(),c("option",{value:a.value},d(a.text),9,pe))),256))],512),[[L,o.store.inType]]),he,p(s("input",{class:"form-control",id:"inshortname",type:"text",placeholder:"Nombre corto","onUpdate:modelValue":e[2]||(e[2]=a=>o.store.inShortName=a),onclick:"this.select()",autocomplete:o.store.inShortName?"off":"on",required:""},null,8,_e),[[_,o.store.inShortName]]),ge,p(s("input",{class:"form-control",id:"inbreadcrumb",type:"text",placeholder:"Migas","onUpdate:modelValue":e[3]||(e[3]=a=>o.store.inBreadcrumb=a),required:""},null,512),[[_,o.store.inBreadcrumb]]),o.store.editMode?x("",!0):(l(),c("button",{key:0,type:"submit",class:"btn btn-outline-light mt-2",onClick:e[4]||(e[4]=a=>o.store.addItem())}," A\xF1adir ")),o.store.editMode?(l(),c("button",{key:1,type:"submit",class:"btn btn-primary btn- mt-2",onClick:e[5]||(e[5]=a=>o.store.saveModified())}," Modificar ")):x("",!0)],32)])}var ve=h(le,[["render",fe]]);const we={setup(){return{store:v()}},computed:{}},b=t=>($("data-v-1db2c8f9"),t=t(),k(),t),ye={class:"container"},Se={class:"row"},Pe={class:"table table-dark table-striped table-sm"},Ne=b(()=>s("th",{scope:"col"},"#",-1)),xe=b(()=>s("th",{scope:"col"},"url",-1)),Ue={scope:"col"},Ce=b(()=>s("th",{scope:"col"},"Shortname",-1)),Te=b(()=>s("th",{scope:"col"},"Migas",-1)),Ae=b(()=>s("th",{scope:"col"},"acci\xF3n",-1)),Le=["onClick"],$e={class:"table-text-wrap"},ke={class:"table-text-wrap"},Ee=["onClick"],De=b(()=>s("span",{class:"fa fa-trash fa-xs","aria-label":"Borra l\xEDnea"},null,-1)),Ie=[De],Oe=["onClick"],Me=b(()=>s("span",{class:"fa fa-edit fa-xs","aria-label":"Edita l\xEDnea"},null,-1)),We=[Me];function Be(t,e,r,o,n,i){return l(),c("div",ye,[s("div",Se,[s("table",Pe,[s("thead",null,[s("tr",null,[Ne,xe,s("th",Ue,[s("button",{class:"btn btn-primary btn-sm",onClick:e[0]||(e[0]=a=>o.store.orden()),title:"Ordena la muestra por tipo de p\xE1gina"},"Tipo")]),Ce,Te,Ae])]),s("tbody",null,[(l(!0),c(g,null,P(o.store.siteWebPages,(a,u)=>(l(),c("tr",null,[s("td",null,d(u),1),s("td",{class:"table-text-wrap",id:"urlCell",onClick:y(N=>o.store.openUrl(a.webPageUrl),["ctrl"]),title:"ctrl+click para abrir"},d(a.webPageUrl),9,Le),s("td",$e,d(a.webPageType),1),s("td",null,d(a.shortName),1),s("td",ke,d(a.breadcrumb),1),s("td",null,[s("button",{class:"btn btn-danger btn-sm",onClick:N=>o.store.deleteItem(u)},Ie,8,Ee),s("button",{class:"btn btn-warning btn-sm",onClick:N=>o.store.editItem(u)},We,8,Oe)])]))),256))])])])])}var Re=h(we,[["render",Be],["__scopeId","data-v-1db2c8f9"]]);const Fe={class:""},Ve={class:"row m-2"},He={class:"col bg-dark card"},Je={class:"col card bg-primary ms-3"},ze={class:"row m-2"},qe={setup(t){return(e,r)=>(l(),c("main",Fe,[s("div",Ve,[s("div",He,[m(ie)]),s("div",Je,[m(ve)])]),s("div",ze,[m(Re)])]))}};var Ye="/assets/logo-inSuit.6fe81e32.svg";const Ge={},je={class:"card"},Ke=C('<div class="card-header" data-v-4c2937dd><img class="p-2" src="'+Ye+'" alt="" data-v-4c2937dd><h1 class="h4 card-title" data-v-4c2937dd>Aplicaci\xF3n para gestionar auditor\xEDas web</h1></div><div class="card-body" data-v-4c2937dd><p data-v-4c2937dd>Esta aplicaci\xF3n forma parte del proyecto de automatizaci\xF3n de auditor\xEDas web.</p></div><div class="card-footer" data-v-4c2937dd><p data-v-4c2937dd>Desarrollado por: Carlos Izquierdo</p><p data-v-4c2937dd>\xA9 Everycode S.L. 2022-2030</p></div>',3),Qe=[Ke];function Xe(t,e){return l(),c("div",je,Qe)}var Ze=h(Ge,[["render",Xe],["__scopeId","data-v-4c2937dd"]]);const et={setup(){return{store:v()}}},tt={class:""};function st(t,e,r,o,n,i){return l(),c("div",null,[s("ul",null,[(l(!0),c(g,null,P(o.store.siteWebPages,a=>(l(),c("li",tt,d(a.webPageUrl),1))),256))])])}var ot=h(et,[["render",st]]);const at=[{path:"/",name:"Home",component:qe,meta:{title:"Home"}},{path:"/lanzadera",name:"Lanzadera",component:ot,meta:{title:"Lanzadera"}},{path:"/about",name:"About",component:Ze,meta:{title:"About"}}],rt=E({history:D(),routes:at}),nt={setup(){const t=I();O(()=>t.meta.title,()=>{document.title=t.meta.title}),M(()=>{e.restoreFromLocalStorage()});const e=v();return{store:e}}},it={class:"bg-secondary text-light p-2 row"},lt=s("h1",{class:"h3 card-title text-center"},"Muestra para auditor\xEDas web",-1),ct={id:"nav"},dt=f("Home"),ut=f("Lanzadera"),mt=f("About");function bt(t,e,r,o,n,i){const a=U("router-link"),u=U("router-view");return l(),c(g,null,[s("header",it,[lt,s("div",ct,[m(a,{to:"/",class:"btn btn-primary"},{default:S(()=>[dt]),_:1}),m(a,{to:"/lanzadera",class:"btn btn-primary"},{default:S(()=>[ut]),_:1}),m(a,{to:"/about",class:"btn btn-primary"},{default:S(()=>[mt]),_:1})])]),m(u)],64)}var pt=h(nt,[["render",bt]]);const ht={setup(t){return(e,r)=>(l(),W(pt))}},T=B(ht).use(rt);T.use(R());T.mount("#app");
